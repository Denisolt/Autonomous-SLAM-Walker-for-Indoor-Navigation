<?xml version="1.0"?>
<launch>
  <param name="/use_sim_time" value="false"/>ros

  <node pkg="urg_node" type="urg_node" name="laser_scan">
    <param name="port" value="/dev/ttyACM0"/>
    <param name="frame_id" value="map"/>
    <param name="calibrate_time" type="bool" value="true"/>
    <param name="intensity" type="bool" value="false"/>
    <param name="min_ang" value="-2.356194437"/> 
    <param name="max_ang" value="2.356194437"/>
    <param name="cluster" value="1"/>
    <remap from="scan" to="base_scan"/>
  </node>

  <node pkg="tf" type="static_transform_publisher" name="scan_frame_broadcaster" args="0 0 0 0 0 0 1 base_link laser 100" />
    
  <node pkg="gmapping" type="slam_gmapping" name="gmapping" args="scan:=scan" output="screen">
    <rosparam>
      ~map_update_interval: 2.0
      odom_frame: odom
      angularUpdate: 0.05
      maxUrange: 5.4
      maxRange: 5.4
      xmin: -5.0
      ymin: -5.0
      xmax: 5
      ymax: 5
      base_frame: base_link
    </rosparam>
  </node>
</launch>